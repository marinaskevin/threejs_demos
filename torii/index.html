<html>
	<head>
		<meta charset="utf-8">
		<title>Torii</title>
		<style>
			body { margin: 0; background: linear-gradient(#fff,#000); color: #fff }
			canvas { width: 100%; height: 100% }
		</style>
	</head>
	<body>
		<script src="js/three.js"></script>
		<script src="js/threex.windowresize.js"></script>
		<script>
			var scene = new THREE.Scene();
			var camera = new THREE.PerspectiveCamera( 20, window.innerWidth/window.innerHeight, 0.1, 1000 );
				scene.add( camera );
			var light = new THREE.PointLight( 0xffffff, 0.8 );
				camera.add( light );
			var ambient_light = new THREE.AmbientLight( 0xffffff );
				scene.add( ambient_light );

			var renderer = new THREE.WebGLRenderer( { antialias: true, alpha: true } );
			renderer.setSize( window.innerWidth, window.innerHeight );
			renderer.setClearColor( 0x000000, 0);
			document.body.appendChild( renderer.domElement );

			THREEx.WindowResize(renderer, camera);

			var geometry = new THREE.TorusGeometry( 2, 0.3, 16, 100 );
			var meshmaterial = new THREE.MeshPhysicalMaterial( { color: 0xf4ab16, side: THREE.DoubleSide, metalness: 0.3 } );
			var torii = [];
			var torii_set_size = 36;

			for(var i=0; i<torii_set_size; i++)
			{
				var torus = new THREE.Mesh(geometry, meshmaterial);
				var angle = 2 * Math.PI * i / torii_set_size;
				scene.add(torus);
				torus.position.z = Math.cos(angle)*30;
				torus.position.y = Math.sin(angle)*30;
				torus.rotation.y = angle;
				torii.push(torus);
			}

			var object_center = [0,0,0];
			var distance = 200;
			var phi = (Math.sqrt(5)+1)/2;
			var theta = 0;
			var inittime = 0;

			var render = function()
			{
				requestAnimationFrame( render );
					if(inittime==0)
					{
						inittime=Date.now();
					}
					theta = (Date.now()-inittime)*0.0002;
					camera.position.x = distance * Math.cos(theta);
					camera.position.y = 50;
					camera.position.z = distance * Math.sin(theta);
					for(var i=0; i<torii.length; i++)
					{
						torii[i].rotation.y += 0.04;
					}
					camera.lookAt( new THREE.Vector3(object_center[0],object_center[1],object_center[2]) );
				renderer.render(scene, camera);
			}

			render();
		</script>
	</body>
</html>